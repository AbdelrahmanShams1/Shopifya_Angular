<nav
  class="fixed top-0 left-0 right-0 z-50 bg-black transition-all duration-300 ease-in-out"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <div class="flex-shrink-0">
        <a
          routerLink=""
          class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105"
        >
          Shopifya
        </a>
      </div>

      <div class="hidden md:block">
        <div class="ml-10 flex items-baseline space-x-4">
          <a
            *ngFor="let item of menuItems; trackBy: trackByFn"
            routerLink="{{ item.href }}"
            class="relative px-3  text-white active:text-blue-600 py-2 hover:text-blue-300 rounded-md text-sm font-medium  transition-all duration-300 ease-in-out transform hover:scale-105 group"
           
          >
            {{ item.label }}

            <span
              class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-600 to-purple-600 group-hover:w-full transition-all duration-300 ease-out"
            ></span>

            <span
              class="absolute inset-0 rounded-md bg-blue-50 opacity-0 group-hover:opacity-20 transition-opacity duration-300 -z-10"
            ></span>
          </a>
        </div>
      </div>

      <div class="hidden md:block">
        <button
          class="relative cursor-pointer px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full font-medium text-sm transition-all duration-300 ease-in-out hover:from-purple-600 hover:to-pink-600 transform hover:scale-105 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 overflow-hidden group"
        >
          <span (click)="handleCTA()" class="relative z-10 ">{{ CTA }}</span>

          <div
            class="absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:animate-pulse"
          ></div>
        </button>
      </div>

      <div class="md:hidden">
        <button
          (click)="toggleMobileMenu()"
          class="relative inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-blue-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 transition-all duration-200"
          [ngClass]="{
            'text-white hover:text-blue-300 hover:bg-white/10': !isScrolled,
            'text-gray-700 hover:text-blue-600 hover:bg-gray-100': isScrolled
          }"
        >
          <div class="w-6 h-6 flex flex-col justify-center items-center">
            <span
              class="block w-5 h-0.5 bg-current transform transition-all duration-300 ease-in-out"
              [ngClass]="{
                'rotate-45 translate-y-1.5': isMobileMenuOpen,
                'rotate-0 translate-y-0': !isMobileMenuOpen
              }"
            ></span>
            <span
              class="block w-5 h-0.5 bg-current mt-1 transform transition-all duration-300 ease-in-out"
              [ngClass]="{
                'opacity-0 scale-0': isMobileMenuOpen,
                'opacity-100 scale-100': !isMobileMenuOpen
              }"
            ></span>
            <span
              class="block w-5 h-0.5 bg-current mt-1 transform transition-all duration-300 ease-in-out"
              [ngClass]="{
                '-rotate-45 -translate-y-1.5': isMobileMenuOpen,
                'rotate-0 translate-y-0': !isMobileMenuOpen
              }"
            ></span>
          </div>
        </button>
      </div>
    </div>
  </div>

  <div
    class="md:hidden overflow-hidden transition-all duration-300 ease-in-out"
    [ngClass]="{
      'max-h-64 opacity-100': isMobileMenuOpen,
      'max-h-0 opacity-0': !isMobileMenuOpen
    }"
  >
    <div
      class="px-2 pt-2 pb-3 space-y-1 bg-white/95 backdrop-blur-md shadow-lg"
    >
      <a
        *ngFor="let item of menuItems; trackBy: trackByFn; let i = index"
       routerLink="{{item.href}}"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 transform hover:translate-x-2"
        [style.animation-delay]="i * 100 + 'ms'"
        [ngClass]="{ 'animate-slide-in': isMobileMenuOpen }"
      >
        {{ item.label }}
      </a>

      <div class="pt-4 pb-2">
        <button
        (click)="handleCTA()"
          class="w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full font-medium text-sm transition-all duration-300 ease-in-out hover:from-purple-600 hover:to-pink-600 transform hover:scale-105"
        >
          {{CTA}}
        </button>
      </div>
    </div>
  </div>
</nav>

<div
  *ngIf="isMobileMenuOpen"
  class="fixed inset-0 bg-black bg-opacity-25 z-40 md:hidden"
  (click)="toggleMobileMenu()"
></div>
